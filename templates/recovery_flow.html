<script>
    async function activateAI() {
        const btn = document.querySelector('button');
        const resultBox = document.getElementById('resultBox');

        btn.innerText = "✅ تم التفعيل";
        btn.disabled = true;
        resultBox.style.display = "block";
        resultBox.innerText = "🔄 جاري تحليل السوق...";

        try {
            const response = await fetch("/trigger-recovery", {
                method: "POST"
            });
            const data = await response.json();
            resultBox.innerText = "🧠 التوصية: " + data.message;
        } catch (error) {
            resultBox.innerText = "❌ فشل الاتصال بوحدة الذكاء!";
        }
    }
</script>
